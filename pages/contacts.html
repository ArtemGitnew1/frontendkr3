<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>–ö–æ–Ω—Ç–∞–∫—Ç—ã - –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</title>
    <meta name="description" content="–ö–æ–Ω—Ç–∞–∫—Ç—ã: —Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏, –¥–æ—Å—Ç—É–ø–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –∞–¥—Ä–µ—Å –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å —É—á—ë—Ç–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (A11y).">
    <link rel="preload" as="style" href="contacts.css">
    <link rel="stylesheet" href="contacts.css">
</head>
<body>
<a class="skip-link" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>

<div class="page">
    <header class="header" role="banner">
        <div class="container">
            <div class="row align-items-center">
                <div class="col col-grow">
                    <h1 class="h3 mb-1">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
                    <p class="mb-0 header-subtitle">–°–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π</p>
                </div>
                <div class="col-auto">
                    <span class="badge badge-light">–≠–§–ë–û-03-24</span>
                </div>
            </div>
        </div>
    </header>

    <nav class="nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
        <div class="container">
            <button class="navbar-toggler"
                    type="button"
                    aria-label="–ú–µ–Ω—é"
                    aria-controls="primary-menu"
                    aria-expanded="false">
        <span class="navbar-toggler-icon" aria-hidden="true">
          <span></span>
        </span>
                <span class="navbar-toggler-text">–ú–µ–Ω—é</span>
            </button>

            <div class="navbar-collapse" id="primary-menu">
                <ul class="navbar-nav" role="list">
                    <li class="nav-item"><a class="nav-link" href="../index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li class="nav-item"><a class="nav-link" href="news.html">üì∞ –ù–æ–≤–æ—Å—Ç–∏</a></li>
                    <li class="nav-item"><a class="nav-link" href="practices.html">üíª –ü—Ä–∞–∫—Ç–∏–∫–∏</a></li>
                    <li class="nav-item"><a class="nav-link" href="goods.html">üõí –¢–æ–≤–∞—Ä—ã</a></li>
                    <li class="nav-item"><a class="nav-link active" href="contacts.html" aria-current="page">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    <li class="nav-item"><a class="nav-link" href="realti.html">üè¢ –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</a></li>

                </ul>
            </div>
        </div>
    </nav>

    <main id="main" class="main" tabindex="-1">
        <section class="section" aria-labelledby="contact-info-title">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2 id="contact-info-title" class="h4 mb-0">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                    </div>
                    <div class="card-body">
                        <div class="row space-y-4">
                            <div class="col col-12">
                                <div class="contact-line">
                                    <span class="icon" aria-hidden="true">‚úâÔ∏è</span>
                                    <div>
                                        <strong>–ê–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã:</strong>
                                        <div>example@mirea.ru</div>
                                    </div>
                                </div>
                                <div class="contact-line">
                                    <span class="icon" aria-hidden="true">üìç</span>
                                    <div>
                                        <strong>–ê–¥—Ä–µ—Å:</strong>
                                        <div>–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. –ö–æ–ª–æ—Ç—É—à–∫–∏–Ω–∞</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="actions">
                            <button class="btn btn-primary btn-lg" id="openDialog">–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥ (–±–µ–∑ Bootstrap) -->
        <section aria-hidden="true">
            <div class="overlay" id="overlay" hidden></div>

            <div class="modal"
                 id="contactModal"
                 role="dialog"
                 aria-modal="true"
                 aria-labelledby="dialogTitle"
                 tabindex="-1"
                 hidden>
                <div class="modal-header">
                    <h2 class="h5 mb-0" id="dialogTitle">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
                    <button class="close-btn" type="button" id="closeModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ">√ó</button>
                </div>

                <div class="modal-body">
                    <form id="contactForm" novalidate>
                        <fieldset class="fieldset">
                            <legend class="legend">–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</legend>

                            <div class="form-group">
                                <label for="name">–ò–º—è <span aria-hidden="true">*</span></label>
                                <input id="name" name="name" type="text" required minlength="2" autocomplete="given-name" aria-required="true">
                                <small id="nameError" class="visually-hidden" role="alert"></small>
                            </div>

                            <div class="form-group">
                                <label for="email">E-mail <span aria-hidden="true">*</span></label>
                                <input id="email" name="email" type="email" required autocomplete="email" aria-required="true">
                                <small id="emailError" class="visually-hidden" role="alert"></small>
                            </div>

                            <div class="form-group">
                                <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω <span aria-hidden="true">*</span></label>
                                <input id="phone" name="phone" type="tel" inputmode="tel"
                                       placeholder="+7 (900) 000-00-00"
                                       required
                                       pattern="^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$"
                                       aria-required="true"
                                       aria-describedby="phoneHelp phoneError">
                                <small id="phoneHelp" class="form-help">–§–æ—Ä–º–∞—Ç: +7 (900) 000-00-00</small>
                                <small id="phoneError" class="visually-hidden" role="alert"></small>
                            </div>

                            <div class="form-group">
                                <label for="date">–î–∞—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                                <input id="date" name="date" type="date" autocomplete="on">
                            </div>

                            <div class="form-group">
                                <label for="topic">–¢–µ–º–∞ <span aria-hidden="true">*</span></label>
                                <select id="topic" name="topic" required aria-required="true">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É</option>
                                    <option value="question">–í–æ–ø—Ä–æ—Å</option>
                                    <option value="order">–ó–∞–∫–∞–∑</option>
                                    <option value="other">–î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="message">–°–æ–æ–±—â–µ–Ω–∏–µ <span aria-hidden="true">*</span></label>
                                <textarea id="message" name="message" rows="4" required aria-required="true"></textarea>
                                <small id="messageError" class="visually-hidden" role="alert"></small>
                            </div>
                        </fieldset>

                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary" id="cancelModal">–ó–∞–∫—Ä—ã—Ç—å</button>
                            <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        </div>

                        <div class="live-region" aria-live="polite" aria-atomic="true"></div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="row align-items-center">
                <div class="col col-12 col-md-6">
                    <p class="mb-0 footer-text">&copy; 2025 –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å—Ç—É–¥–µ–Ω—Ç–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                </div>
                <div class="col col-12 col-md-6 text-md-end">
                    <a href="contacts.html" class="footer-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    <a href="#" class="footer-link">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                </div>
            </div>
        </div>
    </footer>
</div>

<script>
    // –ù–∞–≤–±–∞—Ä: –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ
    document.addEventListener('DOMContentLoaded', () => {
        const toggler = document.querySelector('.navbar-toggler');
        const collapse = document.querySelector('.navbar-collapse');
        if (toggler && collapse) {
            toggler.addEventListener('click', () => {
                const expanded = toggler.getAttribute('aria-expanded') === 'true';
                toggler.setAttribute('aria-expanded', String(!expanded));
                collapse.classList.toggle('open');
            });
        }
    });

    // –ú–æ–¥–∞–ª–∫–∞: —Ñ–æ–∫—É—Å-–ª–æ–≤—É—à–∫–∞, ESC, aria-hidden —Ñ–æ–Ω–∞
    (() => {
        const openBtn = document.getElementById('openDialog');
        const modal = document.getElementById('contactModal');
        const overlay = document.getElementById('overlay');
        const closeBtn = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelModal');
        const form = document.getElementById('contactForm');
        const live = modal.querySelector('.live-region');

        let previousActive = null;

        function setBackgroundHidden(hidden) {
            const all = Array.from(document.body.children);
            all.forEach(el => {
                if (el === modal || el === overlay) return;
                if (hidden) el.setAttribute('aria-hidden', 'true');
                else el.removeAttribute('aria-hidden');
            });
        }

        function openModal() {
            previousActive = document.activeElement;
            overlay.hidden = false;
            modal.hidden = false;
            setBackgroundHidden(true);
            modal.focus();
            live.textContent = '–û—Ç–∫—Ä—ã—Ç–æ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ ¬´–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å¬ª.';
            document.addEventListener('keydown', handleKey);
            document.addEventListener('focusin', trapFocus);
        }

        function closeModal() {
            modal.hidden = true;
            overlay.hidden = true;
            setBackgroundHidden(false);
            document.removeEventListener('keydown', handleKey);
            document.removeEventListener('focusin', trapFocus);
            if (previousActive) previousActive.focus();
            live.textContent = '–î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ.';
        }

        function handleKey(e) {
            if (e.key === 'Escape') {
                e.preventDefault();
                closeModal();
            }
            if (e.key === 'Tab') {
                const focusable = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                const elements = Array.from(focusable).filter(el => !el.hasAttribute('disabled'));
                if (elements.length === 0) return;
                const firstEl = elements[0];
                const lastEl = elements[elements.length - 1];
                if (e.shiftKey && document.activeElement === firstEl) {
                    e.preventDefault();
                    lastEl.focus();
                } else if (!e.shiftKey && document.activeElement === lastEl) {
                    e.preventDefault();
                    firstEl.focus();
                }
            }
        }

        function trapFocus(e) {
            if (!modal.hidden && !modal.contains(e.target)) {
                e.stopPropagation();
                modal.focus();
            }
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ
        function showError(id, msg) {
            const el = document.getElementById(id);
            if (!el) return;
            el.textContent = msg;
            el.classList.remove('visually-hidden');
        }
        function clearErrors() {
            ['nameError','emailError','phoneError','messageError'].forEach(id => {
                const el = document.getElementById(id);
                if (el) { el.textContent = ''; el.classList.add('visually-hidden'); }
            });
        }

        openBtn.addEventListener('click', openModal);
        closeBtn.addEventListener('click', closeModal);
        cancelBtn.addEventListener('click', closeModal);
        overlay.addEventListener('click', closeModal);

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            clearErrors();
            let ok = true;

            const name = document.getElementById('name');
            const email = document.getElementById('email');
            const phone = document.getElementById('phone');
            const topic = document.getElementById('topic');
            const message = document.getElementById('message');

            if (!name.value || name.value.trim().length < 2) {
                ok = false; showError('nameError', '–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞.');
                name.setAttribute('aria-invalid', 'true');
            } else name.removeAttribute('aria-invalid');

            if (!email.validity.valid) {
                ok = false; showError('emailError', '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π E-mail.');
                email.setAttribute('aria-invalid', 'true');
            } else email.removeAttribute('aria-invalid');

            const phoneRe = /^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/;
            if (!phoneRe.test(phone.value)) {
                ok = false; showError('phoneError', '–¢–µ–ª–µ—Ñ–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7 (900) 000-00-00.');
                phone.setAttribute('aria-invalid', 'true');
            } else phone.removeAttribute('aria-invalid');

            if (!topic.value) {
                ok = false; showError('messageError', '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.');
            }
            if (!message.value || message.value.trim().length < 2) {
                ok = false; showError('messageError', '–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞.');
                message.setAttribute('aria-invalid', 'true');
            } else message.removeAttribute('aria-invalid');

            if (ok) {
                live.textContent = '–§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!';
                form.reset();
                closeModal();
            } else {
                live.textContent = '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ.';
            }
        });
    })();
</script>
</body>
</html>